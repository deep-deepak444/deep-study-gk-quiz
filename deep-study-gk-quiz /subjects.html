<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Deep Study - Subjects</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <section id="subjectPage" style="opacity: 1; pointer-events: auto;">
    <div class="topbar">CountdownтП│ <span id="countdown">Loading...</span></div>
    <div class="shayari-box">
      рдорд╛ рддреЗрд░реЗ рдкрд╕реАрдиреЗ рдХреА рд╣рд░ рдПрдХ рдмреВрдВрдж рдХреЛ рдореЛрддреА рд╕рд╛ рдЪрдордХрд╛рдКрдВрдЧрд╛,<br>
      рддреВ рд╕рдкрдиреЗ рдмрдбрд╝реЗ рджреЗрдЦрдирд╛ рдорд╛, рдкреВрд░рд╛ рдХрд░рдХреЗ рдореИрдВ рджрд┐рдЦрд▓рд╛рдКрдВрдЧрд╛ред
    </div>
    <h3 class="heading">рдордВрдЬрд╝рд┐рд▓ рдХреА рдУрд░ рдмрдврд╝реЗ ЁЯе╣</h3>
    <div class="divider"></div>
    <div class="subject-list">
      <div class="subject-box" onclick="window.location.href='dashboard.html'" style="background-color: #001f3f; color: white;">
        ЁЯУК рдкреНрд░реЛрдЧреНрд░реЗрд╕ рдбреИрд╢рдмреЛрд░реНрдб рджреЗрдЦреЗрдВ
      </div>
      <div class="subject-box" onclick="openTopics('current_affairs')">ЁЯУ░ Current Affairs</div>
	  <div class="subject-box" onclick="openTopics('ancient_history')">ЁЯУЬ Ancient History</div>
  	<div class="subject-box" onclick="openTopics('medieval_history')">ЁЯП░ Medieval History</div>
  	<div class="subject-box" onclick="openTopics('modern_history')">ЁЯЪВ Modern History</div>
  	<div class="subject-box" onclick="openTopics('polity')">тЪЦя╕П Polity</div>
  	<div class="subject-box" onclick="openTopics('indian_geography')">ЁЯЧ║я╕П Indian Geography</div>
  	<div class="subject-box" onclick="openTopics('world_geography')">ЁЯМН World Geography</div>
  	<div class="subject-box" onclick="openTopics('static_gk')">ЁЯза Static GK</div>
  	<div class="subject-box" onclick="openTopics('biology')">ЁЯзм Biology</div>
  	<div class="subject-box" onclick="openTopics('chemistry')">ЁЯзк Chemistry</div>
	  <div class="subject-box" onclick="openTopics('physics')">тЪЫя╕П Physics</div>
  	<div class="subject-box" onclick="openTopics('computer')">ЁЯТ╗ Computer</div>
	  <div class="subject-box" onclick="openTopics('important_index')">ЁЯУИ INDEX</div>
    </div>
  </section>
  
  <script>
    window.onload = function() {
      const userData = JSON.parse(localStorage.getItem('deepStudyUser'));

      if (!userData || !userData.examDate) {
        window.location.replace('study.html');
        return;
      }

      startCountdown(userData.examDate);
    };

    function openTopics(subject) {
      window.location.href = `topics.html?subject=${subject}`;
    }

    function startCountdown(examDate) {
      const countdownEl = document.getElementById('countdown');
      const exam = new Date(examDate);

      if (isNaN(exam)) {
        countdownEl.textContent = "Invalid Date";
        return;
      }

      function update() {
        const now = new Date();
        const diff = exam - now;

        if (diff <= 0) {
          countdownEl.textContent = "ЁЯОЙ Exam Day!";
          clearInterval(interval);
          return;
        }

        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const m = Math.floor((diff / (1000 * 60)) % 60);
        const s = Math.floor((diff / 1000) % 60);
        
        countdownEl.textContent = `${d}d ${h}h ${m}m ${s}s`;
      }
      
      const interval = setInterval(update, 1000);
      update();
    }
  </script>

</body>
</html>
